# 开发总结：前端高级搜索 (Advanced Search)

> 版本: 1.0
> 日期: 2025-12-10

## 1. 概述

为了充分利用后端 Sprint 4 实现的 **Elasticsearch 分面搜索能力**，我们在前端实现了一个功能完备的“高级搜索”页面。这个页面取代了简单的关键词搜索框，允许用户通过多个维度精确筛选内容。

## 2. 功能模块 (`AdvancedSearchPage.tsx`)

### 2.1 搜索区域
*   位于页面顶部的宽搜索栏。
*   支持回车触发搜索。

### 2.2 左侧筛选栏 (Facets Sidebar)
这是高级搜索的核心，动态展示后端返回的聚合数据：
*   **日期范围**: 预设快捷选项（今天、本周、本月）。
*   **文件类型 (MIME Type)**: 动态列出当前搜索结果中包含的文件类型及其数量（例如 `application/pdf (12)`）。
*   **创建者 (Created By)**: 筛选特定用户上传的文档。
*   **交互**: 勾选筛选条件后，点击 "Apply Filters" 即可刷新结果。

### 2.3 结果展示区
*   **列表展示**: 显示文档名、创建时间、大小和类型。
*   **高亮显示 (Highlighting)**: 直接在结果中展示匹配的文本片段（Snippet），关键词会被 `<em>` 标签包裹并高亮，让用户知道为什么这个文档被搜出来。
*   **分页**: 标准的分页控制器。

## 3. 技术实现

*   **API 调用**: POST `/api/v1/search/faceted`
    *   Payload 包含 `query` 和 `filters` 对象。
    *   接收后端返回的 `results` (分页内容) 和 `facets` (聚合统计)。
*   **路由**: 新增 `/search` 路由，并将其挂载到侧边栏的 "Advanced Search" 菜单。

## 4. 价值

这个页面将 Athena ECM 的搜索体验提升到了**专业级**。用户不再需要大海捞针，而是可以通过分面导航快速定位目标文档，极大地提高了信息检索效率。
